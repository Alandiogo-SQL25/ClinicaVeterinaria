BEGIN TRANSACTION;


CREATE TABLE cliente (
    id_cliente INT NOT NULL PRIMARY KEY,
    nome VARCHAR(100) NOT NULL,
    telefone CHAR(15)
);

------tabela PET------
CREATE TABLE pet (
    id_pet INT NOT NULL PRIMARY KEY,
    nome VARCHAR(50) NOT NULL,
    especie VARCHAR(30),
    idade INT,
    id_cliente INT,
    FOREIGN KEY (id_cliente) REFERENCES cliente(id_cliente)
);

------tabela VETERINARIO------
CREATE TABLE veterinario (
    id_veterinario INT NOT NULL PRIMARY KEY,
    nome VARCHAR(100),
    crmv CHAR(10)
);

------tabela CONSULTA------
CREATE TABLE consulta (
    id_consulta INT NOT NULL PRIMARY KEY,
    data DATE,
    especie VARCHAR(30),
    idade INT,
    tipo_servico VARCHAR(100),
    id_pet INT,
    id_veterinario INT,
    FOREIGN KEY (id_pet) REFERENCES pet(id_pet),
    FOREIGN KEY (id_veterinario) REFERENCES veterinario(id_veterinario)
);

-------tabela MEDICAMENTO-------
CREATE TABLE medicamento (
    id_medicamento INT NOT NULL PRIMARY KEY,
    nome VARCHAR(70),
    quantidade INT,
    data_validade DATE,
    id_consulta INT,
    FOREIGN KEY (id_consulta) REFERENCES consulta(id_consulta)
);

-------tabela MEDICAMENTO_APLICADO-------
CREATE TABLE medicamento_aplicado (
    id_medicamento INT,
    id_veterinario INT,
    id_consulta INT,
    quantidade_aplicada INT,
    FOREIGN KEY (id_medicamento) REFERENCES medicamento(id_medicamento),
    FOREIGN KEY (id_veterinario) REFERENCES veterinario(id_veterinario),
    FOREIGN KEY (id_consulta) REFERENCES consulta(id_consulta)
);
